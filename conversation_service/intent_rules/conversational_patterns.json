{
  "version": "1.0",
  "last_updated": "2025-01-30",
  "description": "Patterns de détection d'intentions conversationnelles et utilitaires",
  "intents": {
    "GREETING": {
      "description": "Salutations et accueil utilisateur",
      "intent_category": "CONVERSATIONAL",
      "confidence": 0.98,
      "priority": 1,
      "patterns": [
        {
          "regex": "^\\s*(bonjour|salut|hello|hi|hey|bonsoir|bonne\\s+nuit)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 1.0
        },
        {
          "regex": "\\b(bonjour|salut|hello|hi|hey|bonsoir)\\s+(assistant|bot|toi)\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "^\\s*(coucou|yo)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 0.9
        }
      ],
      "exact_matches": [
        "bonjour",
        "salut", 
        "hello",
        "hi",
        "hey",
        "bonsoir",
        "bonne nuit",
        "coucou",
        "yo"
      ],
      "response_type": "greeting",
      "no_search_needed": true,
      "suggested_responses": [
        "Bonjour ! Comment puis-je vous aider avec vos finances aujourd'hui ?",
        "Salut ! Que souhaitez-vous savoir sur vos transactions ?",
        "Hello ! Je peux vous aider à analyser vos dépenses ou rechercher des transactions."
      ],
      "suggested_followup": [
        "Voir mes dernières transactions",
        "Analyser mes dépenses du mois",
        "Aide sur les fonctionnalités"
      ],
      "examples": [
        "bonjour",
        "salut comment ça va",
        "hello assistant",
        "bonsoir"
      ]
    },

    "HELP": {
      "description": "Demande d'aide et explication fonctionnalités",
      "intent_category": "CONVERSATIONAL", 
      "confidence": 0.95,
      "priority": 1,
      "patterns": [
        {
          "regex": "^\\s*(aide|help)\\s*[!?]*\\s*$",
          "case_sensitive": false,
          "weight": 1.0
        },
        {
          "regex": "\\b(j'ai\\s+besoin\\s+d')?aide\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "\\b(comment|expliquer|montrer)\\s+(ça\\s+marche|faire|utiliser)\\b",
          "case_sensitive": false,
          "weight": 0.9
        },
        {
          "regex": "\\b(peux.*m'aider|pouvez.*m'aider|m'aider)\\b",
          "case_sensitive": false,
          "weight": 0.85
        },
        {
          "regex": "\\b(que\\s+peux-tu\\s+faire|quelles\\s+fonctionnalités|capacités)\\b",
          "case_sensitive": false,
          "weight": 0.8
        }
      ],
      "exact_matches": [
        "aide",
        "help",
        "j'ai besoin d'aide",
        "comment ça marche",
        "peux-tu m'aider",
        "que peux-tu faire",
        "fonctionnalités",
        "guide"
      ],
      "response_type": "help",
      "no_search_needed": true,
      "help_categories": [
        {
          "category": "Recherche de transactions",
          "examples": [
            "\"mes restaurants\" - Rechercher par catégorie",
            "\"Amazon\" - Rechercher par marchand", 
            "\"plus de 50 euros\" - Rechercher par montant",
            "\"ce mois\" - Rechercher par période"
          ]
        },
        {
          "category": "Analyse des dépenses",
          "examples": [
            "\"combien j'ai dépensé\" - Total des dépenses",
            "\"évolution mensuelle\" - Tendances temporelles",
            "\"nombre d'opérations\" - Comptage transactions"
          ]
        },
        {
          "category": "Exemples de requêtes",
          "examples": [
            "\"mes achats Netflix ce mois\"",
            "\"dépenses restaurant janvier\"", 
            "\"transactions plus de 100 euros\"",
            "\"combien j'ai dépensé en transport\""
          ]
        }
      ],
      "examples": [
        "aide",
        "j'ai besoin d'aide",
        "comment ça marche",
        "que peux-tu faire",
        "peux-tu m'aider"
      ]
    },

    "GOODBYE": {
      "description": "Au revoir et fin de conversation",
      "intent_category": "CONVERSATIONAL",
      "confidence": 0.98,
      "priority": 1,
      "patterns": [
        {
          "regex": "^\\s*(au\\s+revoir|bye|goodbye|à\\s+bientôt)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 1.0
        },
        {
          "regex": "\\b(merci.*(?:au\\s+revoir|bye)|au\\s+revoir.*merci)\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "^\\s*(tchao|ciao|à\\s+plus)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 0.9
        },
        {
          "regex": "^\\s*(bonne\\s+journée|bonne\\s+soirée)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 0.85
        }
      ],
      "exact_matches": [
        "au revoir",
        "bye",
        "goodbye", 
        "à bientôt",
        "merci et au revoir",
        "tchao",
        "ciao",
        "à plus",
        "bonne journée",
        "bonne soirée"
      ],
      "response_type": "goodbye",
      "no_search_needed": true,
      "suggested_responses": [
        "Au revoir ! N'hésitez pas à revenir pour analyser vos finances.",
        "À bientôt ! J'espère vous avoir aidé avec vos transactions.",
        "Bonne journée ! Je reste disponible pour vos questions financières."
      ],
      "examples": [
        "au revoir",
        "bye",
        "à bientôt",
        "merci et au revoir",
        "bonne journée"
      ]
    },

    "ACCOUNT_BALANCE": {
      "description": "Vérification solde et état du compte",
      "intent_category": "CONVERSATIONAL",
      "confidence": 0.95,
      "priority": 1,
      "patterns": [
        {
          "regex": "\\b(solde|balance)\\b",
          "case_sensitive": false,
          "weight": 1.0
        },
        {
          "regex": "\\b(mon\\s+solde|quel.*solde|combien.*compte)\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "\\b(argent\\s+disponible|disponible\\s+sur|montant\\s+compte)\\b",
          "case_sensitive": false,
          "weight": 0.9
        },
        {
          "regex": "\\b(suis.*découvert|en\\s+découvert|négatif|rouge)\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "\\b(état\\s+compte|situation\\s+compte)\\b",
          "case_sensitive": false,
          "weight": 0.85
        }
      ],
      "exact_matches": [
        "mon solde",
        "solde",
        "balance",
        "quel est mon solde",
        "combien j'ai",
        "suis-je en découvert",
        "découvert",
        "argent disponible",
        "état du compte"
      ],
      "response_type": "external_service_needed",
      "no_search_needed": true,
      "external_service": "account_service",
      "suggested_responses": [
        "Pour consulter votre solde, je dois vous rediriger vers le service de compte.",
        "La vérification du solde nécessite une authentification via votre espace client.",
        "Cette information nécessite un accès sécurisé à votre compte bancaire."
      ],
      "suggested_followup": [
        "Voir mes dernières transactions",
        "Analyser mes dépenses récentes",
        "Rechercher des dépenses spécifiques"
      ],
      "examples": [
        "mon solde",
        "quel est mon solde s'il te plaît",
        "combien j'ai sur mon compte",
        "suis-je en découvert",
        "argent disponible"
      ]
    },

    "GRATITUDE": {
      "description": "Remerciements utilisateur",
      "intent_category": "CONVERSATIONAL",
      "confidence": 0.90,
      "priority": 2,
      "patterns": [
        {
          "regex": "^\\s*(merci|thanks|thx)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 1.0
        },
        {
          "regex": "\\b(merci\\s+beaucoup|merci\\s+bien|grand\\s+merci)\\b",
          "case_sensitive": false,
          "weight": 0.95
        },
        {
          "regex": "\\b(c'est\\s+parfait|parfait|génial|super)\\s*[!.]*\\s*$",
          "case_sensitive": false,
          "weight": 0.8
        }
      ],
      "exact_matches": [
        "merci",
        "thanks",
        "thx",
        "merci beaucoup",
        "merci bien",
        "parfait",
        "génial",
        "super"
      ],
      "response_type": "gratitude",
      "no_search_needed": true,
      "suggested_responses": [
        "De rien ! Je suis là pour vous aider avec vos finances.",
        "Avec plaisir ! N'hésitez pas si vous avez d'autres questions.",
        "Ravi de vous avoir aidé ! Que puis-je faire d'autre pour vous ?"
      ],
      "suggested_followup": [
        "Autre recherche de transactions",
        "Analyse différente",
        "Questions sur les fonctionnalités"
      ],
      "examples": [
        "merci",
        "merci beaucoup",
        "parfait merci",
        "super"
      ]
    },

    "UNCLEAR_REQUEST": {
      "description": "Requête peu claire ou ambiguë",
      "intent_category": "CONVERSATIONAL", 
      "confidence": 0.60,
      "priority": 10,
      "patterns": [
        {
          "regex": "^\\s*(euh|hmm|ben|alors)\\s*[.]*\\s*$",
          "case_sensitive": false,
          "weight": 0.7
        },
        {
          "regex": "^\\s*(quoi|hein|comment)\\s*[?]*\\s*$",
          "case_sensitive": false,
          "weight": 0.6
        }
      ],
      "exact_matches": [
        "euh",
        "hmm",
        "quoi",
        "hein",
        "comment"
      ],
      "response_type": "clarification",
      "no_search_needed": true,
      "suggested_responses": [
        "Je n'ai pas bien compris votre demande. Pouvez-vous reformuler ?",
        "Pouvez-vous être plus précis ? Je peux vous aider à rechercher des transactions ou analyser vos dépenses.",
        "Que souhaitez-vous faire exactement ? Rechercher des transactions, analyser un budget ?"
      ],
      "suggested_followup": [
        "Exemples de recherches possibles",
        "Aide sur les fonctionnalités",
        "Guide d'utilisation"
      ],
      "examples": [
        "euh...",
        "hmm",
        "quoi ?"
      ]
    }
  },

  "global_settings": {
    "conversation_context": {
      "maintain_history": true,
      "max_turns": 10,
      "context_timeout_minutes": 30
      },
      "response_personalization": {
      "use_user_name": false,
      "adapt_formality": true,
      "remember_preferences": true
    }
  }
}