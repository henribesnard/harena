{
  "category": "F_complexe",
  "timestamp": "2025-10-10T11:57:00.611078",
  "total_questions": 17,
  "api_successful": 17,
  "queries_found": 17,
  "success_rate": 100.0,
  "detailed_results": [
    {
      "question_id": "F001",
      "question": "Mes achats Amazon de plus de 100 euros",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Amazon",
        "amount": 100,
        "operator": "gt",
        "transaction_type": "debit"
      },
      "entities_count": 4,
      "entity_confidence": 0.945,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "merchant_name": [
            "Amazon"
          ],
          "amount_abs": {
            "gt": 100
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "amazon_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Amazon"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 577,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "4/4"
        }
      },
      "latency_ms": 22880.47160001588,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F002",
      "question": "Mes dépenses restaurant de moins de 30 euros",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "amount": 30,
        "operator": "lt",
        "categories": [],
        "transaction_type": "debit"
      },
      "entities_count": 4,
      "entity_confidence": 0.9375,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "amount_abs": {
            "lt": 30
          },
          "category_name": [
            "Restaurant"
          ]
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "restaurant_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "Restaurant"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 588,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "4/4"
        }
      },
      "latency_ms": 22781.852300016908,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F003",
      "question": "Mes revenus Netflix supérieurs à 50 euros ce mois",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Netflix",
        "amount": 50,
        "operator": "gt",
        "date_range": "this_month",
        "transaction_type": "credit"
      },
      "entities_count": 5,
      "entity_confidence": 0.9359999999999999,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "credit",
          "merchant_name": [
            "Netflix"
          ],
          "amount_abs": {
            "gt": 50
          },
          "date": {
            "gte": "2025-10-01",
            "lte": "2025-10-31"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_credit": {
            "filter": {
              "term": {
                "transaction_type": "credit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "netflix_credit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Netflix"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 636,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 4,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "5/5"
        }
      },
      "latency_ms": 26120.26630001492,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F004",
      "question": "Toutes mes transactions Carrefour de janvier",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Carrefour",
        "date_range": "2025-01",
        "transaction_type": "all"
      },
      "entities_count": 3,
      "entity_confidence": 0.9166666666666666,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "merchant_name": "Carrefour"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "total_credit": {
            "filter": {
              "term": {
                "transaction_type": "credit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "carrefour_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Carrefour"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "carrefour_credit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Carrefour"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 860,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 1,
      "aggregation_count": 5,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: date_range"
        ],
        "details": {
          "entities_translated": "2/3"
        }
      },
      "latency_ms": 23415.814599982696,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F005",
      "question": "Mes dépenses essence de plus de 50 euros",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.9,
      "entities_structured": {
        "amount": 50,
        "operator": "gt",
        "transaction_type": "debit",
        "query": "essence carburant"
      },
      "entities_count": 4,
      "entity_confidence": 0.9125,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "amount_abs": {
            "gt": 50
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 351,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: query"
        ],
        "details": {
          "entities_translated": "3/4"
        }
      },
      "latency_ms": 23974.139800004195,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F006",
      "question": "Mes achats en ligne inférieurs à 20 euros",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "categories": [],
        "amount": 20,
        "operator": "lt",
        "transaction_type": "debit"
      },
      "entities_count": 4,
      "entity_confidence": 0.925,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "category_name": [
            "achats en ligne"
          ],
          "amount_abs": {
            "lt": 20
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "achats_en_ligne_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "achats en ligne"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 603,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "4/4"
        }
      },
      "latency_ms": 23507.864699990023,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F007",
      "question": "Mes achats Amazon entre 50 et 100 euros en juin",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Amazon",
        "amount_min": 50,
        "amount_max": 100,
        "date_range": "2025-06",
        "transaction_type": "debit"
      },
      "entities_count": 5,
      "entity_confidence": 0.946,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "merchant_name": [
            "Amazon"
          ],
          "amount_abs": {
            "gte": 50,
            "lte": 100
          },
          "date": {
            "gte": "2025-06-01",
            "lte": "2025-06-30"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "amazon_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Amazon"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 641,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 4,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "5/5"
        }
      },
      "latency_ms": 25718.921699997736,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F008",
      "question": "Mes dépenses restaurant de plus de 40 euros ce mois",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "categories": [
          "Restaurant"
        ],
        "amount": 40,
        "operator": "gt",
        "date_range": "this_month",
        "transaction_type": "debit"
      },
      "entities_count": 5,
      "entity_confidence": 0.9400000000000001,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "category_name": [
            "Restaurant"
          ],
          "amount_abs": {
            "gt": 40
          },
          "date": {
            "gte": "2025-10-01",
            "lte": "2025-10-31"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "restaurant_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "Restaurant"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 640,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 4,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "5/5"
        }
      },
      "latency_ms": 24750.065400003223,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F009",
      "question": "Mes achats alimentaires inférieurs à 25 euros en mai",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "categories": [
          "Alimentation"
        ],
        "amount": 25,
        "operator": "lt",
        "date_range": "2025-05",
        "transaction_type": "debit"
      },
      "entities_count": 5,
      "entity_confidence": 0.9400000000000001,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "category_name": [
            "Alimentation"
          ],
          "amount_abs": {
            "lt": 25
          },
          "date": {
            "gte": "2025-05-01",
            "lte": "2025-05-31"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "alimentation_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "Alimentation"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 646,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 4,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "5/5"
        }
      },
      "latency_ms": 28067.000599985477,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F010",
      "question": "Toutes mes transactions Uber du dernier trimestre",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.9,
      "entities_structured": {
        "merchant": "Uber",
        "date_range": "last_quarter",
        "transaction_type": "all"
      },
      "entities_count": 3,
      "entity_confidence": 0.9,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "merchant_name": [
            "Uber"
          ],
          "date": {
            "gte": "2025-07-01",
            "lte": "2025-09-30"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "total_credit": {
            "filter": {
              "term": {
                "transaction_type": "credit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "uber_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Uber"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "uber_credit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Uber"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_debit_2025_07": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-07-01",
                        "lte": "2025-07-31"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_credit_2025_07": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-07-01",
                        "lte": "2025-07-31"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_debit_2025_08": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-08-01",
                        "lte": "2025-08-31"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_credit_2025_08": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-08-01",
                        "lte": "2025-08-31"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_debit_2025_09": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-09-01",
                        "lte": "2025-09-30"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "monthly_credit_2025_09": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "credit"
                    }
                  },
                  {
                    "range": {
                      "date": {
                        "gte": "2025-09-01",
                        "lte": "2025-09-30"
                      }
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 2233,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 11,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "3/3"
        }
      },
      "latency_ms": 22847.749800013844,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F011",
      "question": "Mes achats en ligne du week-end dernier",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.9,
      "entities_structured": {
        "categories": [
          "achats en ligne"
        ],
        "date_range": "last_weekend",
        "transaction_type": "debit"
      },
      "entities_count": 3,
      "entity_confidence": 0.9333333333333332,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "category_name": [
            "achats en ligne"
          ],
          "date": {
            "gte": "last_weekend",
            "lte": "last_weekend"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "achats_en_ligne_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "achats en ligne"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 633,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "3/3"
        }
      },
      "latency_ms": 21282.4064999877,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F012",
      "question": "Mes dépenses restaurants avec des pourboires",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.85,
      "entities_structured": {
        "query": "restaurants pourboire",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.925,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "query": "restaurants pourboire",
        "filters": {
          "transaction_type": "debit"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 359,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 1,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: query"
        ],
        "details": {
          "entities_translated": "1/2"
        }
      },
      "latency_ms": 21221.17169998819,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F013",
      "question": "Mes achats Amazon d'au moins 75 euros",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Amazon",
        "amount": 75,
        "operator": "gte",
        "transaction_type": "debit"
      },
      "entities_count": 4,
      "entity_confidence": 0.945,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "merchant_name": [
            "Amazon"
          ],
          "amount_abs": {
            "gte": 75
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "amazon_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Amazon"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 577,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "4/4"
        }
      },
      "latency_ms": 24200.21420001285,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F014",
      "question": "Mes dépenses restaurant de 25 euros maximum ce mois",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "amount": 25,
        "operator": "lte",
        "categories": [
          "Restaurant"
        ],
        "date_range": "this_month",
        "transaction_type": "debit"
      },
      "entities_count": 5,
      "entity_confidence": 0.93,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "category_name": [
            "Restaurant"
          ],
          "amount_abs": {
            "lte": 25
          },
          "date": {
            "gte": "2025-10-01",
            "lte": "2025-10-31"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "restaurant_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "category_name.keyword": "Restaurant"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 641,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 4,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "5/5"
        }
      },
      "latency_ms": 26163.912900025025,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F015",
      "question": "Mes virements de 1000 euros et plus en juin",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "amount": 1000,
        "operator": "gte",
        "date_range": "2025-06",
        "transaction_type": "credit",
        "operation_type": "transfer"
      },
      "entities_count": 5,
      "entity_confidence": 0.9400000000000001,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "credit",
          "amount_abs": {
            "gte": 1000
          },
          "date": {
            "gte": "2025-06-01",
            "lte": "2025-06-30"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_credit": {
            "filter": {
              "term": {
                "transaction_type": "credit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 409,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: operation_type"
        ],
        "details": {
          "entities_translated": "4/5"
        }
      },
      "latency_ms": 25366.27669999143,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F016",
      "question": "Mes paiements par carte de 15 euros ou moins",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "amount": 15,
        "operator": "lte",
        "operation_type": "card",
        "transaction_type": "debit"
      },
      "entities_count": 4,
      "entity_confidence": 0.9375,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "amount_abs": {
            "lte": 15
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 352,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: operation_type"
        ],
        "details": {
          "entities_translated": "3/4"
        }
      },
      "latency_ms": 24861.113300023135,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "F017",
      "question": "Mes retraits d'espèces d'au minimum 50 euros cette semaine",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "amount": 50,
        "operator": "gte",
        "date_range": "this_week",
        "transaction_type": "debit",
        "operation_type": "withdrawal"
      },
      "entities_count": 5,
      "entity_confidence": 0.9400000000000001,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "amount_abs": {
            "gte": 50
          },
          "date": {
            "gte": "2025-10-06",
            "lte": "2025-10-12"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 404,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 3,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: operation_type"
        ],
        "details": {
          "entities_translated": "4/5"
        }
      },
      "latency_ms": 24710.39139997447,
      "api_success": true,
      "error_message": null
    }
  ]
}