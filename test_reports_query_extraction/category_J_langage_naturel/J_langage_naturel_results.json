{
  "category": "J_langage_naturel",
  "timestamp": "2025-10-10T12:09:21.229035",
  "total_questions": 8,
  "api_successful": 8,
  "queries_found": 5,
  "success_rate": 62.5,
  "detailed_results": [
    {
      "question_id": "J001",
      "question": "Peux-tu me montrer mes achats Amazon ?",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "Amazon",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.925,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "merchant_name": "Amazon",
          "transaction_type": "debit"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "amazon_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Amazon"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 548,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "2/2"
        }
      },
      "latency_ms": 22586.6089000192,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J002",
      "question": "J'aimerais voir mes dépenses de ce mois",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.9,
      "entities_structured": {
        "date_range": "this_month",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.95,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit",
          "date": {
            "gte": "2025-10-01",
            "lte": "2025-10-31"
          }
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 377,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "2/2"
        }
      },
      "latency_ms": 19165.068699978292,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J003",
      "question": "Combien est-ce que j'ai dépensé chez McDonald's ?",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.95,
      "entities_structured": {
        "merchant": "McDonald's",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.965,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "merchant_name": "McDonald's",
          "transaction_type": "debit"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "mcdonald's_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "McDonald's"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 560,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "2/2"
        }
      },
      "latency_ms": 20237.41859997972,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J004",
      "question": "Trouve-moi mes plus grosses dépenses",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.85,
      "entities_structured": {
        "transaction_type": "debit",
        "operator": "gt"
      },
      "entities_count": 2,
      "entity_confidence": 0.875,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "transaction_type": "debit"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 325,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 1,
      "aggregation_count": 2,
      "coherence_analysis": {
        "coherence_score": "MEDIUM",
        "issues": [
          "Entités manquantes dans query: operator"
        ],
        "details": {
          "entities_translated": "1/2"
        }
      },
      "latency_ms": 20349.42520002369,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J005",
      "question": "Est-ce que j'ai beaucoup dépensé cette semaine ?",
      "intent_detected": "financial_query",
      "intent_confidence": 0.85,
      "entities_structured": {
        "date_range": "this_week",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.925,
      "query_found": false,
      "query_data": null,
      "query_size": 0,
      "has_filters": false,
      "has_aggregations": false,
      "filter_count": 0,
      "aggregation_count": 0,
      "coherence_analysis": {
        "coherence_score": "LOW",
        "issues": [
          "Aucune query générée malgré intent et entités détectées"
        ],
        "details": {}
      },
      "latency_ms": 18316.141399991466,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J006",
      "question": "Ai-je des achats inhabituels récemment ?",
      "intent_detected": "CONVERSATIONAL",
      "intent_confidence": 0.85,
      "entities_structured": {
        "categories": [
          "Carburant",
          "Transport",
          "Loisirs",
          "Entretien maison",
          "achats en ligne",
          "Alimentation",
          "Vêtements"
        ]
      },
      "entities_count": 1,
      "entity_confidence": 0.9,
      "query_found": false,
      "query_data": null,
      "query_size": 0,
      "has_filters": false,
      "has_aggregations": false,
      "filter_count": 0,
      "aggregation_count": 0,
      "coherence_analysis": {
        "coherence_score": "LOW",
        "issues": [
          "Aucune query générée malgré intent et entités détectées"
        ],
        "details": {}
      },
      "latency_ms": 12825.054800021462,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J007",
      "question": "Comment évoluent mes dépenses restaurant ?",
      "intent_detected": "financial_query",
      "intent_confidence": 0.85,
      "entities_structured": {
        "categories": [
          "Restaurant"
        ],
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.925,
      "query_found": false,
      "query_data": null,
      "query_size": 0,
      "has_filters": false,
      "has_aggregations": false,
      "filter_count": 0,
      "aggregation_count": 0,
      "coherence_analysis": {
        "coherence_score": "LOW",
        "issues": [
          "Aucune query générée malgré intent et entités détectées"
        ],
        "details": {}
      },
      "latency_ms": 18125.21920001018,
      "api_success": true,
      "error_message": null
    },
    {
      "question_id": "J008",
      "question": "Quel est mon comportement d'achat Amazon ?",
      "intent_detected": "transaction_search",
      "intent_confidence": 0.9,
      "entities_structured": {
        "merchant": "Amazon",
        "transaction_type": "debit"
      },
      "entities_count": 2,
      "entity_confidence": 0.925,
      "query_found": true,
      "query_data": {
        "user_id": 100,
        "filters": {
          "merchant_name": "Amazon",
          "transaction_type": "debit"
        },
        "sort": [
          {
            "date": {
              "order": "desc"
            }
          }
        ],
        "page_size": 50,
        "aggregations": {
          "transaction_count": {
            "value_count": {
              "field": "transaction_id"
            }
          },
          "total_debit": {
            "filter": {
              "term": {
                "transaction_type": "debit"
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          },
          "amazon_debit": {
            "filter": {
              "bool": {
                "must": [
                  {
                    "term": {
                      "transaction_type": "debit"
                    }
                  },
                  {
                    "term": {
                      "merchant_name.keyword": "Amazon"
                    }
                  }
                ]
              }
            },
            "aggs": {
              "sum_amount": {
                "sum": {
                  "field": "amount_abs"
                }
              }
            }
          }
        }
      },
      "query_size": 548,
      "has_filters": true,
      "has_aggregations": true,
      "filter_count": 2,
      "aggregation_count": 3,
      "coherence_analysis": {
        "coherence_score": "HIGH",
        "issues": [],
        "details": {
          "entities_translated": "2/2"
        }
      },
      "latency_ms": 20896.69870000216,
      "api_success": true,
      "error_message": null
    }
  ]
}